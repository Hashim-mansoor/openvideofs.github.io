(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{242:function(t,e,r){var content=r(269);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(59).default)("3b73e381",content,!0,{sourceMap:!1})},267:function(t,e,r){t.exports=r.p+"img/5dc0f8f.jpg"},268:function(t,e,r){"use strict";var n=r(242);r.n(n).a},269:function(t,e,r){(e=r(58)(!1)).push([t.i,".text-trunc-2-lines[data-v-636513ee]{display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;-webkit-box-orient:vertical}.ov-video-frame[data-v-636513ee]{position:relative;width:100%;padding-bottom:56.25%}.ov-video-frame iframe[data-v-636513ee]{border:none;position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%}.ov-video-card[data-v-636513ee]{width:15rem;max-width:100%}.ov-video-card .card-body[data-v-636513ee]{position:relative}.ov-video-card .card-body .ov-video-links[data-v-636513ee]{position:absolute;right:.25rem;top:-2.5rem}.ov-video-card .card-body .ov-video-links button[data-v-636513ee]{padding:.5rem}.ov-video-card .card-body .ov-video-links button img[data-v-636513ee]{width:1rem;height:1rem;display:block}",""]),t.exports=e},319:function(t,e,r){"use strict";r.r(e);r(35);var n,o=r(12),l=(r(76),r(75),r(52),r(60),r(23),r(10)),c=r(11),d=r(19),v=r(14),h=r(20),y=r(15),f=r(234),m=r(252),k=r(117),w=r(164),_=r(237),C=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(y.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},x=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(d.a)(this,Object(v.a)(e).apply(this,arguments))).searchQuery="",t.searchInput="",t.noThumbnailSrc=r(267),t.currentVideo=null,t}return Object(h.a)(e,t),Object(c.a)(e,[{key:"mounted",value:function(){document.title="".concat(this.playlist.name," - OpenVideo"),_.a.trackPageView("playlist")}},{key:"handleCardClicked",value:function(video){video.data.origin.name.includes(".")?location.href=video.data.origin.url:this.currentVideo=video}},{key:"handleEditPlaylistClick",value:function(){}},{key:"handleClearHistoryClick",value:function(){w.Store.library.clearHistory()}},{key:"secondsToTimeStr",value:function(t){return new Date(1e3*t).toISOString().match(/T(00:|0)?0?([^.]*)/)[2]}},{key:"handleParentPageClicked",value:function(t){location.href=t}},{key:"playlistId",get:function(){return this.$route.query.id}},{key:"playlistVideos",get:function(){var t=this,filter=function(video){try{return!!video.data.title.match(new RegExp(t.searchQuery,"i"))||!!(video.data.parent||video.data.origin).title.match(new RegExp(t.searchQuery,"i"))}catch(t){return!1}};return"history"===this.playlistId?w.Store.library.getPlaylistVideos().filter(filter).sort((function(a,b){return b.data.lastWatchedTimestamp-a.data.lastWatchedTimestamp})):w.Store.library.getPlaylistVideos(this.playlistId).filter(filter)}},{key:"playlist",get:function(){if("history"===this.playlistId)return{name:"History",id:"history"};if(this.playlistId===k.a)return{name:"Favorites",id:k.a};var t=w.Store.library.getPlaylist(this.playlistId);if(!t)throw new Error("Playlist doesn't exist!");return t}}]),e}(f.f),O=x=C([Object(f.a)({components:{Navigation:m.a},fetch:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.test__dd=w.Store.library,t.next=4,w.Store.library;case 4:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)}),head:function(){return{title:"Playlists - OpenVideo"}}})],x),S=(r(268),r(51)),component=Object(S.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Navigation",["history"===t.playlistId?r("b-nav-item",{on:{click:function(e){return t.handleClearHistoryClick()}}},[t._v("\n      Clear history\n    ")]):"favorites"!==t.playlistId?r("b-nav-item",{on:{click:function(e){return t.handleEditPlaylistClick()}}},[t._v("\n      Edit Playlist\n    ")]):t._e(),t._v(" "),r("b-nav-form",[r("b-input-group",[r("b-form-input",{attrs:{placeholder:"Video title"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.searchQuery=t.searchInput}},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),t._v(" "),r("b-input-group-append",[r("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){t.searchQuery=t.searchInput}}},[t._v("Search")])],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"container mt-5 pt-5"},[t.currentVideo?r("div",{staticClass:"ov-video-frame"},[r("iframe",{attrs:{src:t.currentVideo.data.origin.url}})]):t._e(),t._v(" "),r("div",{staticClass:"row justify-content-center"},t._l(t.playlistVideos,(function(video){return r("div",{key:video.data.origin.url,staticClass:"col-auto p-3",attrs:{title:(video.data.parent||video.data.origin).title}},[r("b-card",{staticClass:"ov-video-card bg-dark",attrs:{"img-src":video.data.poster||t.noThumbnailSrc,"img-top":""},on:{click:function(e){return t.handleCardClicked(video)}}},[r("b-card-title",{staticClass:"h5 text-trunc-2-lines text-white"},[t._v(t._s((video.data.parent||video.data.origin).title))]),t._v(" "),r("b-progress",{staticStyle:{position:"relative"}},[r("b-progress-bar",{attrs:{value:video.data.watched/video.data.duration*100}},[r("b-badge",{staticStyle:{position:"absolute",right:"2px"},attrs:{variant:"dark"}},[t._v(t._s(t.secondsToTimeStr(video.data.duration)))]),t._v(" "),r("div",[t._v(t._s(t.secondsToTimeStr(video.data.watched)))])],1)],1),t._v(" "),r("div",{staticClass:"ov-video-links"},[video.data.parent?r("b-button",{attrs:{title:"Watch on "+video.data.parent.name,variant:"secondary"},on:{click:function(e){return t.handleParentPageClicked(video.data.parent.url)}}},[r("img",{attrs:{src:video.data.parent.icon}})]):t._e(),t._v(" "),r("b-button",{attrs:{title:"Watch on "+video.data.origin.name+(video.data.origin.name.includes(".")?"":" (direct)"),variant:"secondary"}},[r("img",{attrs:{src:video.data.origin.icon}})])],1)],1)],1)})),0)])],1)}),[],!1,null,"636513ee",null);e.default=component.exports}}]);